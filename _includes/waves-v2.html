<style>

    #waves
    {
        width: 100%;
        height: 200px;
    }

    .overlay
    {
        position: absolute;
        top: 0px;
        left: 0px;

        width:100%;
        height:200px;

        z-index: 10000;  
    }

    .overlay h1
    {
        color: white;
    }

    canvas
    {
        color: white;
        /* background-color: #f7f7f7;
        border: #333 solid 1px; */
    }

</style>

<script type="text/javascript" src="{{ '/assets/js/dat.gui/dat.gui.js' | relative_url }}"></script>

<script>

    console.log("canvas waves 2");

    var gui = new dat.GUI();

    var canvas  = document.getElementById("waves");
    var context = canvas.getContext('2d');

    const wave = {
        y: 200,
        length: 0.01,
        amplitude:100,
        frequency: 0.01
    }

    var increment = wave.frequency

    gui.add(wave, 'y', 0, 200);
    gui.add(wave, 'length', -0.01, 0.01);
    gui.add(wave, 'amplitude', -200, 200);
    gui.add(wave, 'frequency', 0.01, 1);

    // const canvas = document.querySelector('waves');
    // const c = canvas.getContext('2d');

    canvas.width = innerWidth;
    canvas.height = 200;

    

    function animate()
    {
        requestAnimationFrame(animate);

        context.clearRect(0,0,canvas.width, canvas.height);

        context.beginPath();
        context.moveTo(0, canvas.height / 2);

        for(let i = 0; i < canvas.width; i++)
        {
            context.lineTo(i, wave.y + Math.sin(i * wave.length + increment) * wave.amplitude);
        }

        context.stroke()
        increment += wave.frequency;
    }

    animate();

</script>